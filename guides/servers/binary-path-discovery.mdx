---
title: "Binary path discovery"
description: "Discover PHP, Composer, and NPM binary paths needed for deployment and scripts."
sidebarTitle: "5. Binary path discovery"
icon: "search"
---

Find the full paths to PHP, Composer, and NPM on the server so deployment scripts (e.g. deploy.php) can call them reliably. PHP is often **per-domain**; Composer and NPM are usually **server-wide**.

<Info>
**Purpose:** Find PHP, Composer, and NPM paths for deploy.php. **Time:** ~20 minutes. **Result:** Paths documented in `binary-paths.conf`.
</Info>

## Why this matters

| Binary | Scope | Notes |
|--------|-------|-------|
| **PHP** | Per-domain | Each domain can have different PHP version; path like `/opt/alt/php83/usr/bin/php` |
| **Composer** | Server-wide | Must be Composer 2.x for Laravel, e.g. `/usr/local/bin/composer` |
| **NPM** | Server-wide | May be under NVM, e.g. `~/.nvm/versions/node/v20.x.x/bin/npm` |

Wrong paths = deployment failures. Document before running deploy scripts.

<Steps>
  <Step title="Discover PHP path (per-domain)">
    <Warning>
    You need a domain already set up with PHP configured. If not, create one in your host panel first.
    </Warning>

    **Check via hosting panel (shortcut)**

    <Tip>
    In Hostinger hPanel: **PHP Configurations** → phpinfo shows PHP version at top of page. In cPanel: **MultiPHP Manager** shows version per domain.
    </Tip>

    **Or create phpinfo temporarily (fallback)**

    ```bash
    cd ~/domains/yourdomain.com/public_html
    echo "<?php phpinfo(); ?>" > phpinfo.php
    ```

    Visit `http://yourdomain.com/phpinfo.php` in your browser. Find **Configure Command** → `--prefix=/opt/alt/php83`. PHP path = prefix + `/usr/bin/php` (e.g. `/opt/alt/php83/usr/bin/php`).

    <Danger>
    **DELETE phpinfo.php immediately after!** It exposes server configuration.
    </Danger>

    ```bash
    rm ~/domains/yourdomain.com/public_html/phpinfo.php
    ```

    Verify in browser → should show 404.

    <Check>PHP path discovered, phpinfo removed.</Check>
  </Step>

  <Step title="Discover Composer path (server-wide)">
    <Tabs>
      <Tab title="Option A: System Composer 2.x">
        ```bash
        which composer
        composer --version
        ```
        If it shows 2.x, path is usually `/usr/local/bin/composer`.
      </Tab>
      <Tab title="Option B: composer2 command">
        Some servers have `composer2`:
        ```bash
        which composer2
        ```
        Path: `/usr/local/bin/composer2`.
      </Tab>
      <Tab title="Option C: User-installed Composer">
        If system composer is 1.x:
        ```bash
        cd ~ && curl -sS https://getcomposer.org/installer | php && mv composer.phar ~/bin/composer && chmod +x ~/bin/composer
        ```
        Path: `/home/username/bin/composer`.
      </Tab>
    </Tabs>

    <Warning>
    Composer 2.x is REQUIRED for modern Laravel. If only 1.x is available, use Option C.
    </Warning>

    <Check>Composer path and version (2.x) noted.</Check>
  </Step>

  <Step title="Discover NPM path (server-wide)">
    Check for npm:

    ```bash
    which npm
    npm --version
    ```

    Check for NVM:

    ```bash
    command -v nvm
    nvm list
    ```

    <Tabs>
      <Tab title="System NPM">
        Path from `which npm` (e.g. `/usr/bin/npm`).
      </Tab>
      <Tab title="NVM-managed NPM">
        Path like `~/.nvm/versions/node/v20.x.x/bin/npm`.
      </Tab>
      <Tab title="Not available">
        <Note>
        NPM is optional. Only needed if Laravel project has frontend assets (Vite/Vue/React). Deploy script will skip frontend builds gracefully.
        </Note>
      </Tab>
    </Tabs>

    <Check>NPM path noted (or confirmed not available).</Check>
  </Step>

  <Step title="Document paths in binary-paths.conf">
    Create the config file:

    <CodeGroup>
    ```bash binary-paths.conf template
    cat > ~/Admin-Server/config/binary-paths.conf << 'EOF'
    # Binary paths (discovered in Part A5)
    # PHP: per-domain, e.g. /opt/alt/php83 for domain with PHP 8.3
    PHP_PATH=/opt/alt/php83/usr/bin/php

    # Composer 2.x required for Laravel
    COMPOSER_PATH=/usr/local/bin/composer

    # NPM: system or NVM path
    NPM_PATH=/usr/bin/npm
    # Or if using NVM: NPM_PATH=/home/user/.nvm/versions/node/v20.x.x/bin/npm

    # Usage in deploy.php:
    # set('bin/php', getenv('PHP_PATH') ?: '/opt/alt/php83/usr/bin/php')
    # set('bin/composer', function() { return getenv('COMPOSER_PATH') ?: '/usr/local/bin/composer'; })
    EOF
    ```
    </CodeGroup>

    Edit with your actual paths:

    ```bash
    nano ~/Admin-Server/config/binary-paths.conf
    ```

    Verify:

    ```bash
    cat ~/Admin-Server/config/binary-paths.conf
    ```

    <Tip>
    Source this file in deploy scripts to set environment variables before running deploy.php.
    </Tip>
  </Step>

  <Step title="Commit and push paths">
    ```bash
    cd ~ && git add Admin-Server/config/binary-paths.conf
    git commit -m "Add binary paths configuration"
    git push origin main
    ```

    <Check>Paths documented and version controlled.</Check>
  </Step>
</Steps>

## Quick reference

Common paths per hosting provider:

| Provider | PHP | Composer | NPM |
|----------|-----|----------|-----|
| **Hostinger Shared** | `/opt/alt/php83/usr/bin/php` | `/usr/local/bin/composer` | `/usr/bin/npm` |
| **Hostinger VPS** | `/usr/bin/php8.3` | `/usr/local/bin/composer` | via NVM |
| **DigitalOcean / Vultr** | `/usr/bin/php` | `/usr/local/bin/composer` | `/usr/bin/npm` |

## Verification checklist

- [ ] Discovered PHP path for domain
- [ ] PHP path matches domain's configured version
- [ ] phpinfo.php deleted (security)
- [ ] Discovered Composer path
- [ ] Composer is version 2.x
- [ ] Discovered NPM path (or confirmed not available)
- [ ] Created binary-paths.conf with actual paths
- [ ] Committed and pushed to GitHub
- [ ] Paths ready for Part B (deployment)

## Troubleshooting

<AccordionGroup>
  <Accordion title="Can't find PHP path">
    Try `which php` — it may show system PHP, not domain-specific. Verify you're looking at the domain-specific path. If still unclear, contact hosting support.
  </Accordion>
  <Accordion title="Composer is version 1.x">
    Check if `composer2` exists. If not, install Composer 2 in `~/bin` using Option C above.
  </Accordion>
  <Accordion title="NPM not found">
    This is OK — NPM is optional for deployment. To install via NVM: `curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash && source ~/.bashrc && nvm install node`
  </Accordion>
</AccordionGroup>

## Next step

<Card title="6. Verification & testing" icon="check" href="/guides/servers/verification-testing">
  Run the full verification checklist and confirm the server is ready for deployment.
</Card>
